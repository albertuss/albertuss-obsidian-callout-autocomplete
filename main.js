/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CalloutAutocompletePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var CalloutSuggest = class extends import_obsidian.EditorSuggest {
  constructor(plugin) {
    super(plugin.app);
    this.calloutItems = [];
    this.plugin = plugin;
  }
  loadCalloutItems() {
    const calloutManager = this.app.plugins.plugins["callout-manager"];
    console.log("Callout Manager:", calloutManager);
    console.log("Callout Manager full settings:", JSON.stringify(calloutManager == null ? void 0 : calloutManager.settings, null, 2));
    if (!calloutManager || !calloutManager.settings || !calloutManager.settings.callouts) {
      this.calloutItems = [
        { type: "note", icon: "lucide-sticky-note", color: "68, 138, 255" },
        { type: "info", icon: "lucide-info", color: "0, 176, 255" },
        { type: "warning", icon: "lucide-alert-triangle", color: "255, 171, 0" },
        { type: "error", icon: "lucide-x-circle", color: "255, 71, 87" },
        { type: "success", icon: "lucide-check-circle", color: "0, 135, 90" },
        { type: "tip", icon: "lucide-lightbulb", color: "0, 191, 165" },
        { type: "quote", icon: "lucide-quote", color: "158, 158, 158" },
        { type: "example", icon: "lucide-list", color: "124, 77, 255" },
        { type: "seealso", icon: "lucide-link", color: "0, 176, 255" },
        { type: "abstract", icon: "lucide-book-open", color: "0, 176, 255" },
        { type: "summary", icon: "lucide-book-open", color: "0, 176, 255" },
        { type: "important", icon: "lucide-flame", color: "0, 191, 165" },
        { type: "faq", icon: "lucide-help-circle", color: "0, 135, 90" },
        { type: "caution", icon: "lucide-alert-triangle", color: "255, 171, 0" },
        { type: "attention", icon: "lucide-alert-triangle", color: "255, 171, 0" },
        { type: "failure", icon: "lucide-x-circle", color: "255, 71, 87" }
      ];
      return;
    }
    const calloutSettings = calloutManager.settings.callouts;
    const customCallouts = calloutSettings.custom || [];
    const settings = calloutSettings.settings || {};
    const allCallouts = [];
    const defaultCallouts = [
      "note",
      "info",
      "warning",
      "error",
      "success",
      "tip",
      "quote",
      "example",
      "seealso",
      "abstract",
      "summary",
      "important",
      "faq",
      "caution",
      "attention",
      "failure"
    ];
    allCallouts.push(...defaultCallouts);
    if (customCallouts.length > 0) {
      allCallouts.push(...customCallouts);
    }
    this.calloutItems = allCallouts.map((type) => {
      const typeSettings = settings[type];
      let icon = this.getDefaultIcon(type);
      let color = this.getDefaultColor(type);
      if (typeSettings && typeSettings.length > 0) {
        const baseSettings = typeSettings.find((s) => !s.condition);
        if (baseSettings == null ? void 0 : baseSettings.changes) {
          icon = baseSettings.changes.icon || icon;
          color = baseSettings.changes.color || color;
        }
      }
      return { type, icon, color };
    });
    console.log("Final callout items:", this.calloutItems);
  }
  getDefaultIcon(type) {
    const iconMap = {
      note: "lucide-sticky-note",
      info: "lucide-info",
      warning: "lucide-alert-triangle",
      error: "lucide-x-circle",
      success: "lucide-check-circle",
      tip: "lucide-lightbulb",
      quote: "lucide-quote",
      example: "lucide-list",
      seealso: "lucide-link",
      abstract: "lucide-book-open",
      summary: "lucide-book-open",
      important: "lucide-flame",
      faq: "lucide-help-circle",
      caution: "lucide-alert-triangle",
      attention: "lucide-alert-triangle",
      failure: "lucide-x-circle",
      positive: "lucide-plus",
      negative: "lucide-minus",
      question: "lucide-help-circle",
      test: "lucide-triangle"
    };
    return iconMap[type] || "lucide-sticky-note";
  }
  getDefaultColor(type) {
    const colorMap = {
      note: "68, 138, 255",
      info: "0, 176, 255",
      warning: "255, 171, 0",
      error: "255, 71, 87",
      success: "0, 135, 90",
      tip: "0, 191, 165",
      quote: "158, 158, 158",
      example: "124, 77, 255",
      seealso: "0, 176, 255",
      abstract: "0, 176, 255",
      summary: "0, 176, 255",
      important: "0, 191, 165",
      faq: "0, 135, 90",
      caution: "255, 171, 0",
      attention: "255, 171, 0",
      failure: "255, 71, 87"
    };
    return colorMap[type] || "68, 138, 255";
  }
  onTrigger(cursor, editor, file) {
    const line = editor.getLine(cursor.line).trimStart();
    console.log("Current line:", line, "Cursor position:", cursor);
    if (line.startsWith("> [") && cursor.ch >= 3) {
      const startCh = line.indexOf("[") + 2;
      const triggerText = line.substring(startCh, cursor.ch).trim();
      console.log("Trigger activated, query:", triggerText);
      return {
        start: { line: cursor.line, ch: startCh },
        end: { line: cursor.line, ch: cursor.ch },
        query: triggerText
      };
    }
    console.log("Trigger condition not met");
    return null;
  }
  getSuggestions(context) {
    const query = context.query.toLowerCase();
    return this.calloutItems.filter((item) => item.type.toLowerCase().startsWith(query));
  }
  renderSuggestion(suggestion, el) {
    const wrapper = el.createDiv({ cls: "callout-suggestion-item" });
    const iconSpan = wrapper.createSpan({ cls: "callout-suggestion-icon" });
    (0, import_obsidian.setIcon)(iconSpan, suggestion.icon);
    const textSpan = wrapper.createSpan({ cls: "callout-suggestion-text" });
    textSpan.setText(suggestion.type);
    const color = suggestion.color;
    iconSpan.style.color = `rgb(${color})`;
    textSpan.style.color = `rgb(${color})`;
  }
  selectSuggestion(suggestion, evt) {
    const { editor, start, end } = this.context;
    if (editor) {
      editor.replaceRange(suggestion.type, start, end);
      const newPos = { line: start.line, ch: start.ch + suggestion.type.length };
      editor.setCursor(newPos);
    }
  }
};
var CalloutAutocompletePlugin = class extends import_obsidian.Plugin {
  onload() {
    return __async(this, null, function* () {
      console.log("Loading Callout Autocomplete Plugin");
      this.suggester = new CalloutSuggest(this);
      this.registerEditorSuggest(this.suggester);
      const style = document.createElement("style");
      style.textContent = `
            .callout-suggestion-item {
                display: flex;
                align-items: center;
                padding: 0px 0px; /* \u041E\u0442\u0441\u0442\u0443\u043F\u044B \u0432\u043D\u0443\u0442\u0440\u0438 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 (\u0441\u0432\u0435\u0440\u0445\u0443/\u0441\u043D\u0438\u0437\u0443 8px, \u0441\u043B\u0435\u0432\u0430/\u0441\u043F\u0440\u0430\u0432\u0430 12px) */
                border-radius: 4px; /* \u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u043E\u0432 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 */
                margin: 0px 0; /* \u0412\u043D\u0435\u0448\u043D\u0438\u0435 \u043E\u0442\u0441\u0442\u0443\u043F\u044B (\u0441\u0432\u0435\u0440\u0445\u0443/\u0441\u043D\u0438\u0437\u0443 2px, \u0441\u043B\u0435\u0432\u0430/\u0441\u043F\u0440\u0430\u0432\u0430 0) */
                transition: background-color 0.1s ease;
                background-color: transparent;
            }
            .callout-suggestion-item:hover,
            .callout-suggestion-item.is-selected {
                background-color: var(--background-modifier-hover);
            }
            .callout-suggestion-icon {
                margin-right: 5px; /* \u041E\u0442\u0441\u0442\u0443\u043F \u043C\u0435\u0436\u0434\u0443 \u0438\u043A\u043E\u043D\u043A\u043E\u0439 \u0438 \u0442\u0435\u043A\u0441\u0442\u043E\u043C */
                width: 16px; /* \u0428\u0438\u0440\u0438\u043D\u0430 \u0438\u043A\u043E\u043D\u043A\u0438 */
                height: 16px; /* \u0412\u044B\u0441\u043E\u0442\u0430 \u0438\u043A\u043E\u043D\u043A\u0438 */
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .callout-suggestion-icon svg {
                width: 20px; /* \u0420\u0430\u0437\u043C\u0435\u0440 SVG-\u0438\u043A\u043E\u043D\u043A\u0438 \u043F\u043E \u0448\u0438\u0440\u0438\u043D\u0435 */
                height: 20px; /* \u0420\u0430\u0437\u043C\u0435\u0440 SVG-\u0438\u043A\u043E\u043D\u043A\u0438 \u043F\u043E \u0432\u044B\u0441\u043E\u0442\u0435 */
            }
            .callout-suggestion-text {
                flex: 1;
                font-size: 14px; /* \u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430 \u0442\u0435\u043A\u0441\u0442\u0430 */
                font-weight: 500;
            }
            .suggestion-container {
                padding: 0px; /* \u0412\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u0438\u0439 \u043E\u0442\u0441\u0442\u0443\u043F \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 (\u0432\u043B\u0438\u044F\u0435\u0442 \u043D\u0430 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u043E\u0442 \u043A\u0440\u0430\u044F \u0441\u043F\u0438\u0441\u043A\u0430 \u0434\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432) */
                background-color: var(--background-primary);
                border: 1px solid var(--background-modifier-border);
                border-radius: 4px; /* \u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u043E\u0432 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 */
                box-shadow: 0 2px 8px var(--background-modifier-box-shadow);
            }
        `;
      document.head.appendChild(style);
      this.app.workspace.onLayoutReady(() => {
        console.log("Layout ready, loading callout types...");
        this.suggester.loadCalloutItems();
        const calloutManager = this.app.plugins.plugins["callout-manager"];
        if (calloutManager) {
          this.registerEvent(
            this.app.metadataCache.on("changed", () => {
              console.log("Settings changed, reloading callout types...");
              this.suggester.loadCalloutItems();
            })
          );
        }
      });
    });
  }
  onunload() {
    console.log("Unloading Callout Autocomplete Plugin");
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luLCBFZGl0b3IsIEVkaXRvclBvc2l0aW9uLCBFZGl0b3JTdWdnZXN0LCBFZGl0b3JTdWdnZXN0VHJpZ2dlckluZm8sIEVkaXRvclN1Z2dlc3RDb250ZXh0LCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBcdTA0MThcdTA0M0RcdTA0NDJcdTA0MzVcdTA0NDBcdTA0NDRcdTA0MzVcdTA0MzlcdTA0NDEgXHUwNDM0XHUwNDNCXHUwNDRGIGNhbGxvdXQgXHUwNDQxIFx1MDQ0Mlx1MDQzOFx1MDQzRlx1MDQzRVx1MDQzQywgXHUwNDM4XHUwNDNBXHUwNDNFXHUwNDNEXHUwNDNBXHUwNDNFXHUwNDM5IFx1MDQzOCBcdTA0NDZcdTA0MzJcdTA0MzVcdTA0NDJcdTA0M0VcdTA0M0NcbmludGVyZmFjZSBDYWxsb3V0SXRlbSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGljb246IHN0cmluZztcbiAgICBjb2xvcjogc3RyaW5nO1xufVxuXG4vLyBcdTA0MUFcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NDEgXHUwNDM0XHUwNDNCXHUwNDRGIFx1MDQzMFx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQzNFx1MDQzRVx1MDQzRlx1MDQzRVx1MDQzQlx1MDQzRFx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RlxuY2xhc3MgQ2FsbG91dFN1Z2dlc3QgZXh0ZW5kcyBFZGl0b3JTdWdnZXN0PENhbGxvdXRJdGVtPiB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IENhbGxvdXRBdXRvY29tcGxldGVQbHVnaW47XG4gICAgcHJpdmF0ZSBjYWxsb3V0SXRlbXM6IENhbGxvdXRJdGVtW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogQ2FsbG91dEF1dG9jb21wbGV0ZVBsdWdpbikge1xuICAgICAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgbG9hZENhbGxvdXRJdGVtcygpIHtcbiAgICAgICAgY29uc3QgY2FsbG91dE1hbmFnZXIgPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbJ2NhbGxvdXQtbWFuYWdlciddO1xuICAgICAgICBjb25zb2xlLmxvZygnQ2FsbG91dCBNYW5hZ2VyOicsIGNhbGxvdXRNYW5hZ2VyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0NhbGxvdXQgTWFuYWdlciBmdWxsIHNldHRpbmdzOicsIEpTT04uc3RyaW5naWZ5KGNhbGxvdXRNYW5hZ2VyPy5zZXR0aW5ncywgbnVsbCwgMikpO1xuXG4gICAgICAgIGlmICghY2FsbG91dE1hbmFnZXIgfHwgIWNhbGxvdXRNYW5hZ2VyLnNldHRpbmdzIHx8ICFjYWxsb3V0TWFuYWdlci5zZXR0aW5ncy5jYWxsb3V0cykge1xuICAgICAgICAgICAgdGhpcy5jYWxsb3V0SXRlbXMgPSBbXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAnbm90ZScsIGljb246ICdsdWNpZGUtc3RpY2t5LW5vdGUnLCBjb2xvcjogJzY4LCAxMzgsIDI1NScgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdpbmZvJywgaWNvbjogJ2x1Y2lkZS1pbmZvJywgY29sb3I6ICcwLCAxNzYsIDI1NScgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICd3YXJuaW5nJywgaWNvbjogJ2x1Y2lkZS1hbGVydC10cmlhbmdsZScsIGNvbG9yOiAnMjU1LCAxNzEsIDAnIH0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAnZXJyb3InLCBpY29uOiAnbHVjaWRlLXgtY2lyY2xlJywgY29sb3I6ICcyNTUsIDcxLCA4NycgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdzdWNjZXNzJywgaWNvbjogJ2x1Y2lkZS1jaGVjay1jaXJjbGUnLCBjb2xvcjogJzAsIDEzNSwgOTAnIH0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAndGlwJywgaWNvbjogJ2x1Y2lkZS1saWdodGJ1bGInLCBjb2xvcjogJzAsIDE5MSwgMTY1JyB9LFxuICAgICAgICAgICAgICAgIHsgdHlwZTogJ3F1b3RlJywgaWNvbjogJ2x1Y2lkZS1xdW90ZScsIGNvbG9yOiAnMTU4LCAxNTgsIDE1OCcgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdleGFtcGxlJywgaWNvbjogJ2x1Y2lkZS1saXN0JywgY29sb3I6ICcxMjQsIDc3LCAyNTUnIH0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAnc2VlYWxzbycsIGljb246ICdsdWNpZGUtbGluaycsIGNvbG9yOiAnMCwgMTc2LCAyNTUnIH0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAnYWJzdHJhY3QnLCBpY29uOiAnbHVjaWRlLWJvb2stb3BlbicsIGNvbG9yOiAnMCwgMTc2LCAyNTUnIH0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAnc3VtbWFyeScsIGljb246ICdsdWNpZGUtYm9vay1vcGVuJywgY29sb3I6ICcwLCAxNzYsIDI1NScgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdpbXBvcnRhbnQnLCBpY29uOiAnbHVjaWRlLWZsYW1lJywgY29sb3I6ICcwLCAxOTEsIDE2NScgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdmYXEnLCBpY29uOiAnbHVjaWRlLWhlbHAtY2lyY2xlJywgY29sb3I6ICcwLCAxMzUsIDkwJyB9LFxuICAgICAgICAgICAgICAgIHsgdHlwZTogJ2NhdXRpb24nLCBpY29uOiAnbHVjaWRlLWFsZXJ0LXRyaWFuZ2xlJywgY29sb3I6ICcyNTUsIDE3MSwgMCcgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdhdHRlbnRpb24nLCBpY29uOiAnbHVjaWRlLWFsZXJ0LXRyaWFuZ2xlJywgY29sb3I6ICcyNTUsIDE3MSwgMCcgfSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdmYWlsdXJlJywgaWNvbjogJ2x1Y2lkZS14LWNpcmNsZScsIGNvbG9yOiAnMjU1LCA3MSwgODcnIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWxsb3V0U2V0dGluZ3MgPSBjYWxsb3V0TWFuYWdlci5zZXR0aW5ncy5jYWxsb3V0cztcbiAgICAgICAgY29uc3QgY3VzdG9tQ2FsbG91dHMgPSBjYWxsb3V0U2V0dGluZ3MuY3VzdG9tIHx8IFtdO1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbGxvdXRTZXR0aW5ncy5zZXR0aW5ncyB8fCB7fTtcblxuICAgICAgICBjb25zdCBhbGxDYWxsb3V0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgZGVmYXVsdENhbGxvdXRzID0gW1xuICAgICAgICAgICAgJ25vdGUnLCAnaW5mbycsICd3YXJuaW5nJywgJ2Vycm9yJywgJ3N1Y2Nlc3MnLCAndGlwJywgJ3F1b3RlJywgJ2V4YW1wbGUnLFxuICAgICAgICAgICAgJ3NlZWFsc28nLCAnYWJzdHJhY3QnLCAnc3VtbWFyeScsICdpbXBvcnRhbnQnLCAnZmFxJywgJ2NhdXRpb24nLCAnYXR0ZW50aW9uJywgJ2ZhaWx1cmUnXG4gICAgICAgIF07XG4gICAgICAgIGFsbENhbGxvdXRzLnB1c2goLi4uZGVmYXVsdENhbGxvdXRzKTtcblxuICAgICAgICBpZiAoY3VzdG9tQ2FsbG91dHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWxsQ2FsbG91dHMucHVzaCguLi5jdXN0b21DYWxsb3V0cyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxvdXRJdGVtcyA9IGFsbENhbGxvdXRzLm1hcCh0eXBlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVTZXR0aW5ncyA9IHNldHRpbmdzW3R5cGVdO1xuICAgICAgICAgICAgbGV0IGljb24gPSB0aGlzLmdldERlZmF1bHRJY29uKHR5cGUpO1xuICAgICAgICAgICAgbGV0IGNvbG9yID0gdGhpcy5nZXREZWZhdWx0Q29sb3IodHlwZSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlU2V0dGluZ3MgJiYgdHlwZVNldHRpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlU2V0dGluZ3MgPSB0eXBlU2V0dGluZ3MuZmluZCgoczogYW55KSA9PiAhcy5jb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChiYXNlU2V0dGluZ3M/LmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbiA9IGJhc2VTZXR0aW5ncy5jaGFuZ2VzLmljb24gfHwgaWNvbjtcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBiYXNlU2V0dGluZ3MuY2hhbmdlcy5jb2xvciB8fCBjb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGUsIGljb24sIGNvbG9yIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdGaW5hbCBjYWxsb3V0IGl0ZW1zOicsIHRoaXMuY2FsbG91dEl0ZW1zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldERlZmF1bHRJY29uKHR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGljb25NYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgICBub3RlOiAnbHVjaWRlLXN0aWNreS1ub3RlJyxcbiAgICAgICAgICAgIGluZm86ICdsdWNpZGUtaW5mbycsXG4gICAgICAgICAgICB3YXJuaW5nOiAnbHVjaWRlLWFsZXJ0LXRyaWFuZ2xlJyxcbiAgICAgICAgICAgIGVycm9yOiAnbHVjaWRlLXgtY2lyY2xlJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ICdsdWNpZGUtY2hlY2stY2lyY2xlJyxcbiAgICAgICAgICAgIHRpcDogJ2x1Y2lkZS1saWdodGJ1bGInLFxuICAgICAgICAgICAgcXVvdGU6ICdsdWNpZGUtcXVvdGUnLFxuICAgICAgICAgICAgZXhhbXBsZTogJ2x1Y2lkZS1saXN0JyxcbiAgICAgICAgICAgIHNlZWFsc286ICdsdWNpZGUtbGluaycsXG4gICAgICAgICAgICBhYnN0cmFjdDogJ2x1Y2lkZS1ib29rLW9wZW4nLFxuICAgICAgICAgICAgc3VtbWFyeTogJ2x1Y2lkZS1ib29rLW9wZW4nLFxuICAgICAgICAgICAgaW1wb3J0YW50OiAnbHVjaWRlLWZsYW1lJyxcbiAgICAgICAgICAgIGZhcTogJ2x1Y2lkZS1oZWxwLWNpcmNsZScsXG4gICAgICAgICAgICBjYXV0aW9uOiAnbHVjaWRlLWFsZXJ0LXRyaWFuZ2xlJyxcbiAgICAgICAgICAgIGF0dGVudGlvbjogJ2x1Y2lkZS1hbGVydC10cmlhbmdsZScsXG4gICAgICAgICAgICBmYWlsdXJlOiAnbHVjaWRlLXgtY2lyY2xlJyxcbiAgICAgICAgICAgIHBvc2l0aXZlOiAnbHVjaWRlLXBsdXMnLFxuICAgICAgICAgICAgbmVnYXRpdmU6ICdsdWNpZGUtbWludXMnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdsdWNpZGUtaGVscC1jaXJjbGUnLFxuICAgICAgICAgICAgdGVzdDogJ2x1Y2lkZS10cmlhbmdsZSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGljb25NYXBbdHlwZV0gfHwgJ2x1Y2lkZS1zdGlja3ktbm90ZSc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0Q29sb3IodHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgY29sb3JNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgICBub3RlOiAnNjgsIDEzOCwgMjU1JyxcbiAgICAgICAgICAgIGluZm86ICcwLCAxNzYsIDI1NScsXG4gICAgICAgICAgICB3YXJuaW5nOiAnMjU1LCAxNzEsIDAnLFxuICAgICAgICAgICAgZXJyb3I6ICcyNTUsIDcxLCA4NycsXG4gICAgICAgICAgICBzdWNjZXNzOiAnMCwgMTM1LCA5MCcsXG4gICAgICAgICAgICB0aXA6ICcwLCAxOTEsIDE2NScsXG4gICAgICAgICAgICBxdW90ZTogJzE1OCwgMTU4LCAxNTgnLFxuICAgICAgICAgICAgZXhhbXBsZTogJzEyNCwgNzcsIDI1NScsXG4gICAgICAgICAgICBzZWVhbHNvOiAnMCwgMTc2LCAyNTUnLFxuICAgICAgICAgICAgYWJzdHJhY3Q6ICcwLCAxNzYsIDI1NScsXG4gICAgICAgICAgICBzdW1tYXJ5OiAnMCwgMTc2LCAyNTUnLFxuICAgICAgICAgICAgaW1wb3J0YW50OiAnMCwgMTkxLCAxNjUnLFxuICAgICAgICAgICAgZmFxOiAnMCwgMTM1LCA5MCcsXG4gICAgICAgICAgICBjYXV0aW9uOiAnMjU1LCAxNzEsIDAnLFxuICAgICAgICAgICAgYXR0ZW50aW9uOiAnMjU1LCAxNzEsIDAnLFxuICAgICAgICAgICAgZmFpbHVyZTogJzI1NSwgNzEsIDg3J1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY29sb3JNYXBbdHlwZV0gfHwgJzY4LCAxMzgsIDI1NSc7XG4gICAgfVxuXG4gICAgb25UcmlnZ2VyKGN1cnNvcjogRWRpdG9yUG9zaXRpb24sIGVkaXRvcjogRWRpdG9yLCBmaWxlOiBhbnkpOiBFZGl0b3JTdWdnZXN0VHJpZ2dlckluZm8gfCBudWxsIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKS50cmltU3RhcnQoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgbGluZTonLCBsaW5lLCAnQ3Vyc29yIHBvc2l0aW9uOicsIGN1cnNvcik7XG4gICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJz4gWycpICYmIGN1cnNvci5jaCA+PSAzKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydENoID0gbGluZS5pbmRleE9mKCdbJykgKyAyO1xuICAgICAgICAgICAgY29uc3QgdHJpZ2dlclRleHQgPSBsaW5lLnN1YnN0cmluZyhzdGFydENoLCBjdXJzb3IuY2gpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUcmlnZ2VyIGFjdGl2YXRlZCwgcXVlcnk6JywgdHJpZ2dlclRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogeyBsaW5lOiBjdXJzb3IubGluZSwgY2g6IHN0YXJ0Q2ggfSxcbiAgICAgICAgICAgICAgICBlbmQ6IHsgbGluZTogY3Vyc29yLmxpbmUsIGNoOiBjdXJzb3IuY2ggfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogdHJpZ2dlclRleHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdUcmlnZ2VyIGNvbmRpdGlvbiBub3QgbWV0Jyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldFN1Z2dlc3Rpb25zKGNvbnRleHQ6IEVkaXRvclN1Z2dlc3RDb250ZXh0KTogQ2FsbG91dEl0ZW1bXSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gY29udGV4dC5xdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsb3V0SXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChxdWVyeSkpO1xuICAgIH1cblxuICAgIHJlbmRlclN1Z2dlc3Rpb24oc3VnZ2VzdGlvbjogQ2FsbG91dEl0ZW0sIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZWwuY3JlYXRlRGl2KHsgY2xzOiAnY2FsbG91dC1zdWdnZXN0aW9uLWl0ZW0nIH0pO1xuICAgICAgICBjb25zdCBpY29uU3BhbiA9IHdyYXBwZXIuY3JlYXRlU3Bhbih7IGNsczogJ2NhbGxvdXQtc3VnZ2VzdGlvbi1pY29uJyB9KTtcbiAgICAgICAgc2V0SWNvbihpY29uU3Bhbiwgc3VnZ2VzdGlvbi5pY29uKTtcbiAgICAgICAgY29uc3QgdGV4dFNwYW4gPSB3cmFwcGVyLmNyZWF0ZVNwYW4oeyBjbHM6ICdjYWxsb3V0LXN1Z2dlc3Rpb24tdGV4dCcgfSk7XG4gICAgICAgIHRleHRTcGFuLnNldFRleHQoc3VnZ2VzdGlvbi50eXBlKTtcblxuICAgICAgICAvLyBcdTA0MUZcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NEZcdTA0MzVcdTA0M0MgXHUwNDQ2XHUwNDMyXHUwNDM1XHUwNDQyIFx1MDQ0Mlx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQzQVx1MDQzRSBcdTA0M0EgXHUwNDM4XHUwNDNBXHUwNDNFXHUwNDNEXHUwNDNBXHUwNDM1IFx1MDQzOCBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDJcdTA0NDNcbiAgICAgICAgY29uc3QgY29sb3IgPSBzdWdnZXN0aW9uLmNvbG9yO1xuICAgICAgICBpY29uU3Bhbi5zdHlsZS5jb2xvciA9IGByZ2IoJHtjb2xvcn0pYDtcbiAgICAgICAgdGV4dFNwYW4uc3R5bGUuY29sb3IgPSBgcmdiKCR7Y29sb3J9KWA7XG4gICAgfVxuXG4gICAgc2VsZWN0U3VnZ2VzdGlvbihzdWdnZXN0aW9uOiBDYWxsb3V0SXRlbSwgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGVkaXRvciwgc3RhcnQsIGVuZCB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKHN1Z2dlc3Rpb24udHlwZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICBjb25zdCBuZXdQb3MgPSB7IGxpbmU6IHN0YXJ0LmxpbmUsIGNoOiBzdGFydC5jaCArIHN1Z2dlc3Rpb24udHlwZS5sZW5ndGggfTtcbiAgICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IobmV3UG9zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FsbG91dEF1dG9jb21wbGV0ZVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgcHJpdmF0ZSBzdWdnZXN0ZXI6IENhbGxvdXRTdWdnZXN0O1xuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBDYWxsb3V0IEF1dG9jb21wbGV0ZSBQbHVnaW4nKTtcbiAgICAgICAgdGhpcy5zdWdnZXN0ZXIgPSBuZXcgQ2FsbG91dFN1Z2dlc3QodGhpcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFZGl0b3JTdWdnZXN0KHRoaXMuc3VnZ2VzdGVyKTtcblxuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgICAgICAgLmNhbGxvdXQtc3VnZ2VzdGlvbi1pdGVtIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMHB4IDBweDsgLyogXHUwNDFFXHUwNDQyXHUwNDQxXHUwNDQyXHUwNDQzXHUwNDNGXHUwNDRCIFx1MDQzMlx1MDQzRFx1MDQ0M1x1MDQ0Mlx1MDQ0MFx1MDQzOCBcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzAgKFx1MDQ0MVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0NVx1MDQ0My9cdTA0NDFcdTA0M0RcdTA0MzhcdTA0MzdcdTA0NDMgOHB4LCBcdTA0NDFcdTA0M0JcdTA0MzVcdTA0MzJcdTA0MzAvXHUwNDQxXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDMwIDEycHgpICovXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OyAvKiBcdTA0MTdcdTA0MzBcdTA0M0FcdTA0NDBcdTA0NDNcdTA0MzNcdTA0M0JcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDQzXHUwNDMzXHUwNDNCXHUwNDNFXHUwNDMyIFx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMCAqL1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMHB4IDA7IC8qIFx1MDQxMlx1MDQzRFx1MDQzNVx1MDQ0OFx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0M0VcdTA0NDJcdTA0NDFcdTA0NDJcdTA0NDNcdTA0M0ZcdTA0NEIgKFx1MDQ0MVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0NVx1MDQ0My9cdTA0NDFcdTA0M0RcdTA0MzhcdTA0MzdcdTA0NDMgMnB4LCBcdTA0NDFcdTA0M0JcdTA0MzVcdTA0MzJcdTA0MzAvXHUwNDQxXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDMwIDApICovXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2FsbG91dC1zdWdnZXN0aW9uLWl0ZW06aG92ZXIsXG4gICAgICAgICAgICAuY2FsbG91dC1zdWdnZXN0aW9uLWl0ZW0uaXMtc2VsZWN0ZWQge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmNhbGxvdXQtc3VnZ2VzdGlvbi1pY29uIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDsgLyogXHUwNDFFXHUwNDQyXHUwNDQxXHUwNDQyXHUwNDQzXHUwNDNGIFx1MDQzQ1x1MDQzNVx1MDQzNlx1MDQzNFx1MDQ0MyBcdTA0MzhcdTA0M0FcdTA0M0VcdTA0M0RcdTA0M0FcdTA0M0VcdTA0MzkgXHUwNDM4IFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQyAqL1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxNnB4OyAvKiBcdTA0MjhcdTA0MzhcdTA0NDBcdTA0MzhcdTA0M0RcdTA0MzAgXHUwNDM4XHUwNDNBXHUwNDNFXHUwNDNEXHUwNDNBXHUwNDM4ICovXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxNnB4OyAvKiBcdTA0MTJcdTA0NEJcdTA0NDFcdTA0M0VcdTA0NDJcdTA0MzAgXHUwNDM4XHUwNDNBXHUwNDNFXHUwNDNEXHUwNDNBXHUwNDM4ICovXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmNhbGxvdXQtc3VnZ2VzdGlvbi1pY29uIHN2ZyB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDIwcHg7IC8qIFx1MDQyMFx1MDQzMFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQ0MCBTVkctXHUwNDM4XHUwNDNBXHUwNDNFXHUwNDNEXHUwNDNBXHUwNDM4IFx1MDQzRlx1MDQzRSBcdTA0NDhcdTA0MzhcdTA0NDBcdTA0MzhcdTA0M0RcdTA0MzUgKi9cbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwcHg7IC8qIFx1MDQyMFx1MDQzMFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQ0MCBTVkctXHUwNDM4XHUwNDNBXHUwNDNFXHUwNDNEXHUwNDNBXHUwNDM4IFx1MDQzRlx1MDQzRSBcdTA0MzJcdTA0NEJcdTA0NDFcdTA0M0VcdTA0NDJcdTA0MzUgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jYWxsb3V0LXN1Z2dlc3Rpb24tdGV4dCB7XG4gICAgICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7IC8qIFx1MDQyMFx1MDQzMFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQ0MCBcdTA0NDhcdTA0NDBcdTA0MzhcdTA0NDRcdTA0NDJcdTA0MzAgXHUwNDQyXHUwNDM1XHUwNDNBXHUwNDQxXHUwNDQyXHUwNDMwICovXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zdWdnZXN0aW9uLWNvbnRhaW5lciB7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMHB4OyAvKiBcdTA0MTJcdTA0M0RcdTA0NDNcdTA0NDJcdTA0NDBcdTA0MzVcdTA0M0RcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDNFXHUwNDQyXHUwNDQxXHUwNDQyXHUwNDQzXHUwNDNGIFx1MDQzQVx1MDQzRVx1MDQzRFx1MDQ0Mlx1MDQzNVx1MDQzOVx1MDQzRFx1MDQzNVx1MDQ0MFx1MDQzMCAoXHUwNDMyXHUwNDNCXHUwNDM4XHUwNDRGXHUwNDM1XHUwNDQyIFx1MDQzRFx1MDQzMCBcdTA0NDBcdTA0MzBcdTA0NDFcdTA0NDFcdTA0NDJcdTA0M0VcdTA0NEZcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDNFXHUwNDQyIFx1MDQzQVx1MDQ0MFx1MDQzMFx1MDQ0RiBcdTA0NDFcdTA0M0ZcdTA0MzhcdTA0NDFcdTA0M0FcdTA0MzAgXHUwNDM0XHUwNDNFIFx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzRVx1MDQzMikgKi9cbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IC8qIFx1MDQxN1x1MDQzMFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzQlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0NDNcdTA0MzNcdTA0M0JcdTA0M0VcdTA0MzIgXHUwNDNBXHUwNDNFXHUwNDNEXHUwNDQyXHUwNDM1XHUwNDM5XHUwNDNEXHUwNDM1XHUwNDQwXHUwNDMwICovXG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm94LXNoYWRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMYXlvdXQgcmVhZHksIGxvYWRpbmcgY2FsbG91dCB0eXBlcy4uLicpO1xuICAgICAgICAgICAgdGhpcy5zdWdnZXN0ZXIubG9hZENhbGxvdXRJdGVtcygpO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsb3V0TWFuYWdlciA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1snY2FsbG91dC1tYW5hZ2VyJ107XG4gICAgICAgICAgICBpZiAoY2FsbG91dE1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oJ2NoYW5nZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZ3MgY2hhbmdlZCwgcmVsb2FkaW5nIGNhbGxvdXQgdHlwZXMuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VnZ2VzdGVyLmxvYWRDYWxsb3V0SXRlbXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VubG9hZGluZyBDYWxsb3V0IEF1dG9jb21wbGV0ZSBQbHVnaW4nKTtcbiAgICB9XG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQXVIO0FBVXZILElBQU0saUJBQU4sY0FBNkIsOEJBQTJCO0FBQUEsRUFJ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
